-- create database
CREATE DATABASE FP_CINEMA;

-- use database
USE FP_CINEMA;

-- create tables
CREATE TABLE ST_STUDIO(
    ST_STUDIO_NUMBER VARCHAR(2),
    ST_CAPACITY INT,
    ST_OPEN_SCHEDULE TIME,
    ST_CLOSE_SCHEDULE TIME
);

CREATE TABLE MV_MOVIE(
    MV_ID VARCHAR(11),
    MV_TITLE VARCHAR(30),
    MV_GENRE VARCHAR(15),
    MV_DURATION_MINUTES INT
);

CREATE TABLE USR_USER(
    USR_ID VARCHAR(11),
    USR_USER_NAME VARCHAR(20),
    USR_EMAIL VARCHAR(20),
    USR_PHONE VARCHAR(15)
);

CREATE TABLE PYM_PAYMENT_METHOD(
    PYM_ID VARCHAR(5),
    PYM_BANK VARCHAR(10),
    PYM_VA_NUMBER VARCHAR(11),
    PYM_ADMIN_CHARGE INT
);

CREATE TABLE SCH_SCHEDULE(
    SCH_ID VARCHAR(11),
    SCH_PREMIERE_DATE DATE,
    SCH_PREMIERE_TIME TIME,
    SCH_PRICE INT,
    SCH_MV_ID VARCHAR(11),
    SCH_ST_ID VARCHAR(2)
);

CREATE TABLE TRC_TRANSACTION(
    TRC_ID VARCHAR(11),
    TRC_FINAL_PRICE INT,
    TRC_SEATS INT,
    TRC_PURCHASE_DATE DATE,
    TRC_USR_ID VARCHAR(11),
    TRC_SCH_ID VARCHAR(11)
);

-- add primary key
ALTER TABLE ST_STUDIO ADD PRIMARY KEY (ST_STUDIO_NUMBER);
ALTER TABLE MV_MOVIE ADD PRIMARY KEY (MV_ID);
ALTER TABLE USR_USER ADD PRIMARY KEY (USR_ID);
ALTER TABLE PYM_PAYMENT_METHOD ADD PRIMARY KEY (PYM_ID);
ALTER TABLE SCH_SCHEDULE ADD PRIMARY KEY (SCH_ID);
ALTER TABLE TRC_TRANSACTION ADD PRIMARY KEY (TRC_ID);

-- add foreign key
ALTER TABLE SCH_SCHEDULE ADD FOREIGN KEY (SCH_MV_ID) REFERENCES MV_MOVIE(MV_ID);
ALTER TABLE SCH_SCHEDULE ADD FOREIGN KEY (SCH_ST_ID) REFERENCES ST_STUDIO(ST_STUDIO_NUMBER);
ALTER TABLE TRC_TRANSACTION ADD FOREIGN KEY (TRC_USR_ID) REFERENCES USR_USER(USR_ID);
ALTER TABLE TRC_TRANSACTION ADD FOREIGN KEY (TRC_SCH_ID) REFERENCES SCH_SCHEDULE(SCH_ID);

-- Insert values
-- ST_STUDIO table
INSERT INTO ST_STUDIO VALUES ('A1', 227, '09-00-00', '23-59-00');
INSERT INTO ST_STUDIO VALUES ('B2', 261, '12-30-00', '21-30-00');
INSERT INTO ST_STUDIO VALUES ('C3', 348, '07-45-00', '23-45-00');

-- MV_MOVIE table
insert into MV_MOVIE VALUES ('1935069969', 'Haunted House', 'Comedy|Horror', 117);
insert into MV_MOVIE VALUES ('8399559776', 'In the Valley of Elah', 'Drama|Mystery', 138);
insert into MV_MOVIE VALUES ('7842833613', 'Nymph', 'Fantasy|Horror', 153);
insert into MV_MOVIE VALUES ('4385450544', 'Police Assassins', 'Action', 121);
insert into MV_MOVIE VALUES ('5367733514', 'Baron of Arizona, The', 'Drama|Romance', 94);
insert into MV_MOVIE VALUES ('4715545276', 'Emotion', 'Comedy|Horror', 112);
insert into MV_MOVIE VALUES ('5936234517', 'Samurai II: Duel at IchijojI', 'Action|Drama', 112);
insert into MV_MOVIE VALUES ('7011043667', 'Borrowers, The', 'Adventure|Fantasy', 113);
insert into MV_MOVIE VALUES ('7282901937', 'Bridesmaid', 'Romance|Thriller', 112);
insert into MV_MOVIE VALUES ('5035608239', 'Sister Act', 'Comedy|Crime', 116);
insert into MV_MOVIE VALUES ('1885799225', 'Forty Guns', 'Drama|Western', 109);
insert into MV_MOVIE VALUES ('6192415609', 'Imaginary Heroes', 'Comedy|Drama', 136);
insert into MV_MOVIE VALUES ('1758819863', 'Beware of Pity', 'Drama|Romance', 128);
insert into MV_MOVIE VALUES ('0482925914', 'Amateurs', 'Comedy', 119);
insert into MV_MOVIE VALUES ('9876159577', 'Trespass', 'Crime|Thriller', 94);
insert into MV_MOVIE VALUES ('4661673883', 'Drinking Buddies', 'Comedy|Romance', 171);
insert into MV_MOVIE VALUES ('2624478825', 'Harry Brown', 'Crime|Thriller', 146);
insert into MV_MOVIE VALUES ('2294673700', 'Rambo (Rambo 4)', 'Action|Drama', 92);
insert into MV_MOVIE VALUES ('0056391501', 'Feast of Love', 'Drama|Romance', 139);
insert into MV_MOVIE VALUES ('6791585943', 'Reagan', 'Documentary', 172);
insert into MV_MOVIE VALUES ('0367994984', 'Gracie''s Choice', 'Drama', 169);
insert into MV_MOVIE VALUES ('6848552003', 'Stranger on the Prowl', 'Drama', 110);

-- USR_USER table
INSERT INTO USR_USER VALUES ('4007731896', 'Mireille Ervine', 'mervine3@state.tx.us', '(936) 4290569');
INSERT INTO USR_USER VALUES ('8626341792', 'Web Newitt', 'wnewitt4@lulu.com', '(833) 8180768');
INSERT INTO USR_USER VALUES ('5089778124', 'Gaelan Bertlin', 'gbertlin5@imageshack.us', '(788) 8432252');
INSERT INTO USR_USER VALUES ('6614666738', 'Zelma Capron', 'zcapron6@aol.com', '(883) 6082059');
INSERT INTO USR_USER VALUES ('1460675649', 'Terry Letterese', 'tletterese7@pcworld.com', '(843) 3531128');
INSERT INTO USR_USER VALUES ('4638149197', 'Shea Orhrt', 'sorhrt8@ocn.ne.jp', '(387) 2820230');
INSERT INTO USR_USER VALUES ('1814906002', 'Loella Warton', 'lwarton9@is.gd', '(801) 6676537');
INSERT INTO USR_USER VALUES ('0927526352', 'Libbey Balhatchet', 'lbalhatcheta@meetup.com', '(524) 5069924');
INSERT INTO USR_USER VALUES ('8520579183', 'Sunny Toon', 'stoonb@sbwire.com', '(234) 5695960');
INSERT INTO USR_USER VALUES ('0400238012', 'Neille Chumley', 'nchumleyc@illinois.edu', '(684) 3554596');
INSERT INTO USR_USER VALUES ('6096644066', 'Addy Gatherell', 'agatherelld@epa.gov', '(364) 7940777');
INSERT INTO USR_USER VALUES ('8018018553', 'Mariann Scardafield', 'mscardafielde@pbs.org', '(428) 5785379');
INSERT INTO USR_USER VALUES ('6410098960', 'Maddie Valasek', 'mvalasekf@last.fm', '(678) 4987157');
INSERT INTO USR_USER VALUES ('9295893220', 'Leta Licari', 'llicarig@homestead.com', '(847) 1188820');
INSERT INTO USR_USER VALUES ('0602815134', 'Gaby Gymlett', 'ggymletth@boston.com', '(851) 5052582');
INSERT INTO USR_USER VALUES ('8629399872', 'Mirabel Powderham', 'mpowderhami@jiathis.com', '(900) 7854658');
INSERT INTO USR_USER VALUES ('8912007378', 'Creigh Mackison', 'cmackisonj@theatlantic.com', '(905) 1094089');
INSERT INTO USR_USER VALUES ('0776989464', 'Nannie Hubbucks', 'nhubbucksk@parallels.com', '(367) 3675923');
INSERT INTO USR_USER VALUES ('6727294666', 'Antonietta Turk', 'aturkl@usda.gov', '(947) 7659609');
INSERT INTO USR_USER VALUES ('0328502332', 'Bert Hales', 'bhalesm@webmd.com', '(630) 7104859');
INSERT INTO USR_USER VALUES ('8182466792', 'Fulvia Cuniam', 'fcuniamn@lulu.com', '(461) 5556578');
INSERT INTO USR_USER VALUES ('2352397553', 'Dion Swetmore', 'dswetmoreo@dell.com', '(974) 8273156');
INSERT INTO USR_USER VALUES ('0270819703', 'Hershel Crebbin', 'hcrebbinp@dion.ne.jp', '(406) 7483556');
INSERT INTO USR_USER VALUES ('3937058192', 'Mic Athelstan', 'mathelstanq@aboutads.info', '(524) 2248993');
INSERT INTO USR_USER VALUES ('1367933897', 'Reinaldos Kobes', 'rkobesr@elegantthemes.com', '(269) 8435115');
INSERT INTO USR_USER VALUES ('4568553245', 'Bartlett Taig', 'btaigs@amazon.co.jp', '(815) 8411337');
INSERT INTO USR_USER VALUES ('3523085802', 'Lorne McCafferty', 'lmccaffertyt@constantcontact.com', '(106) 4399107');
INSERT INTO USR_USER VALUES ('8502783734', 'Dorelia Roisen', 'droisenu@comsenz.com', '(218) 7589597');
INSERT INTO USR_USER VALUES ('5424830765', 'Jareb Jakov', 'jjakovv@1und1.de', '(634) 5048704');

-- PYM_PAYMENT_METHOD table
INSERT INTO PYM_PAYMENT_METHOD VALUES ('BNI01', 'BNI', '66-664-1349', 1500);
INSERT INTO PYM_PAYMENT_METHOD VALUES ('BCA02', 'BCA', '46-327-9269', 1950);
INSERT INTO PYM_PAYMENT_METHOD VALUES ('MDR03', 'Mandiri', '28-619-9994', 950);
INSERT INTO PYM_PAYMENT_METHOD VALUES ('BRI04', 'BRI', '41-470-1678', 1590);

-- SCH_SCHEDULE table
INSERT INTO SCH_SCHEDULE VALUES ('84-509-0400', '2022-12-15', '09-15-00', 45000, '1935069969', 'A1');
INSERT INTO SCH_SCHEDULE VALUES ('04-612-5434', '2022-12-15', '12-30-00', 35000, '8399559776', 'A1');
INSERT INTO SCH_SCHEDULE VALUES ('60-785-3592', '2022-12-15', '18-30-00', 50000, '7842833613', 'A1');
INSERT INTO SCH_SCHEDULE VALUES ('85-734-9230', '2022-12-15', '21-45-00', 35000, '5367733514', 'A1');
INSERT INTO SCH_SCHEDULE VALUES ('82-887-7025', '2022-12-15', '13-00-00', 40000, '4715545276', 'B2');
INSERT INTO SCH_SCHEDULE VALUES ('65-733-9993', '2022-12-15', '15-45-00', 40000, '5936234517', 'B2');
INSERT INTO SCH_SCHEDULE VALUES ('51-290-6108', '2022-12-15', '09-45-00', 55000, '7011043667', 'C3');
INSERT INTO SCH_SCHEDULE VALUES ('98-577-3974', '2022-12-15', '13-15-00', 30000, '7282901937', 'C3');
INSERT INTO SCH_SCHEDULE VALUES ('23-579-6419', '2022-12-15', '15-30-00', 40000, '5035608239', 'C3');
INSERT INTO SCH_SCHEDULE VALUES ('70-405-7872', '2022-12-15', '18-15-00', 40000, '1885799225', 'C3');
INSERT INTO SCH_SCHEDULE VALUES ('75-075-0966', '2022-12-15', '21-00-00', 60000, '6192415609', 'C3');
INSERT INTO SCH_SCHEDULE VALUES ('99-691-2657', '2022-13-15', '09-15-00', 45000, '1935069969', 'A1');
INSERT INTO SCH_SCHEDULE VALUES ('34-485-2971', '2022-13-15', '12-30-00', 55000, '1758819863', 'A1');
INSERT INTO SCH_SCHEDULE VALUES ('64-576-9535', '2022-13-15', '13-00-00', 40000, '4715545276', 'B2');
INSERT INTO SCH_SCHEDULE VALUES ('29-579-0513', '2022-13-15', '15-45-00', 45000, '9876159577', 'B2');
INSERT INTO SCH_SCHEDULE VALUES ('21-015-4859', '2022-13-15', '09-45-00', 55000, '7011043667', 'C3');
INSERT INTO SCH_SCHEDULE VALUES ('16-516-4160', '2022-13-15', '13-15-00', 35000, '7282901937', 'C3');
INSERT INTO SCH_SCHEDULE VALUES ('11-419-7362', '2022-13-15', '15-30-00', 45000, '5035608239', 'C3');
INSERT INTO SCH_SCHEDULE VALUES ('62-578-1721', '2022-13-15', '18-15-00', 30000, '1885799225', 'C3');
INSERT INTO SCH_SCHEDULE VALUES ('66-073-5385', '2022-13-15', '21-00-00', 60000, '5936234517', 'C3');

-- TRC_TRANSACTION table
INSERT INTO TRC_TRANSACTION VALUES ('31-964-1201', 0, 3, '2022-12-07', '8626341792', '84-509-0400');
INSERT INTO TRC_TRANSACTION VALUES ('37-138-3324', 0, 1, '2022-12-07', '6614666738', '16-516-4160');
INSERT INTO TRC_TRANSACTION VALUES ('30-536-7441', 0, 2, '2022-12-07', '5424830765', '65-733-9993');
INSERT INTO TRC_TRANSACTION VALUES ('63-752-6293', 0, 5, '2022-12-08', '8502783734', '85-734-9230');
INSERT INTO TRC_TRANSACTION VALUES ('08-477-0119', 0, 7, '2022-12-08', '8182466792', '99-691-2657');
INSERT INTO TRC_TRANSACTION VALUES ('22-084-9563', 0, 3, '2022-12-09', '4568553245', '21-015-4859');
INSERT INTO TRC_TRANSACTION VALUES ('72-001-6785', 0, 2, '2022-12-09', '8018018553', '11-419-7362');
INSERT INTO TRC_TRANSACTION VALUES ('08-299-4101', 0, 2, '2022-12-10', '6727294666', '29-579-0513');
INSERT INTO TRC_TRANSACTION VALUES ('93-249-4243', 0, 4, '2022-12-10', '6096644066', '04-612-5434');
INSERT INTO TRC_TRANSACTION VALUES ('08-798-4729', 0, 1, '2022-12-10', '8182466792', '65-733-9993');
INSERT INTO TRC_TRANSACTION VALUES ('78-087-3835', 0, 3, '2022-12-10', '3937058192', '66-073-5385');
INSERT INTO TRC_TRANSACTION VALUES ('32-033-1541', 0, 5, '2022-12-11', '8626341792', '11-419-7362');
INSERT INTO TRC_TRANSACTION VALUES ('40-831-5023', 0, 6, '2022-12-11', '1367933897', '82-887-7025');
INSERT INTO TRC_TRANSACTION VALUES ('33-525-0373', 0, 4, '2022-12-11', '0776989464', '98-577-3974');
INSERT INTO TRC_TRANSACTION VALUES ('44-489-7044', 0, 2, '2022-12-11', '1814906002', '29-579-0513');